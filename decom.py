#Encrypted By xNot_Found
#Github : https://github.com/hatakecnk/
import base64
exec(base64.b64decode('IyAtKi0gY29kaW5nPXV0Zi04IC0qLQojIENvcHlyaWdodCDCqSBNaGFuayBCYXJCYXIgKE11aGFtYWQgUm95eWFuaSkKIyBSZWNvZGUgPyBTaWxhaGthbgojIFRvbG9uZyBLZW1iYW5na2FuIExhZ2kgVG9vbHMgSW5pLCBNZXNraXB1biBVbmZhZWRhaDp2CiMgTWFhZiBLYWxvIEFkYSBZYW5nIEVycm9yIFdrd2sKIyBUb29scyBJbmkgRGkgQ2FyacKyIFBhcmEgUmVjb2RlcgojIEJhbnlhayBZYW5nIE1lbXBlcmp1YWwgQmVsaWthbiBUb29scyBTZXBlcnRpIEluaQojIFRhcGkgRGlzaW5pIEZyZWUgRGFuIEp1Z2EgT3BlbiBTb3VyY2UgOikKIyAtLS0tLS0tLS0tLS0qIE1hYWYgS2FsbyBDb2Rpbmdhbm55YSBCZXJhbnRha2FuICotLS0tLS0tLS0tLS0tLQpmcm9tIHN5cyBpbXBvcnQgc3Rkb3V0CmltcG9ydCBzdWJwcm9jZXNzIGFzIHNwCmltcG9ydCBvcywgc3lzLCB0aW1lLCByYW5kb20sIGJhc2U2NCwgbWFyc2hhbCwgZ2V0cGFzcywgcmUsIHpsaWIKbSA9ICdceDFiWzE7OTFtJwp1ID0gJ1x4MWJbMTs5NW0nCmggPSAnXHgxYlsxOzkybScKcCA9ICdceDFiWzE7MzdtJwprID0gJ1x4MWJbMTszM20nCmIgPSAnXHgxYlsxOzM0bScKYm0gPSAnXHgxYls5Nm0nCmFib3V0ID0gICAgICcnJwpcblx4MWJbMTs5Nm0kKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTszMm0gICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgTjAwQiBINENLM1IKClx4MWJbMTs5Nm0kKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblxuXHgxYlsxOzkxbSQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTs5NW1cbgogICAgICAgICAgICAgICAgICAgICAgICAgTWFtdW4gQWhtZWQgRmFoaW0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzM0bSAgICAKIAogICAgICAgICAgICAgICAgICAgICAgIE4wMEIgQjBTUzpIdU50ZXIgRmFIaU1cbiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgT3VyIEdyb3VwIDpUZXJtdXggSHVOdGVyIEJEIFxuXHgxYlsxCiAgICAgICAgICAgICAgICAgICAgICAKCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzk1bSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKClxuXHgxYlsxOzMybSAgICAgICAgICAgICAgICAgIERvbid0IFVzZSBZb3VyIFJlYWwvT2xkIEFjY291bnQgCiAgICAgICAKICAgICAgIAokKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTs5Mm0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycnCnByaW50ICcnJwpcblx4MWJbMTs5Nm0kKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTszMm0gICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgTjAwQiBINENLM1IKClx4MWJbMTs5Nm0kKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblxuXHgxYlsxOzkxbSQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTs5NW1cbgogICAgICAgICAgICAgICAgICAgICAgICAgTWFtdW4gQWhtZWQgRmFoaW0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzM0bSAgICAKIAogICAgICAgICAgICAgICAgICAgICAgIE4wMEIgQjBTUzpIdU50ZXIgRmFIaU1cbiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgT3VyIEdyb3VwIDpUZXJtdXggSHVOdGVyIEJEIFxuXHgxYlsxCiAgICAgICAgICAgICAgICAgICAgICAKCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzk1bSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKClxuXHgxYlsxOzMybQogICAgICAgCiAgICAgICAKJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5ceDFiWzE7OTJtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnJy5mb3JtYXQobSxwLG0scCkKZGVmIGxpc2Vuc2lfZW5jKCk6CgljbHIoKQoJcHJpbnQga3VuY2kKCXByaW50KCd7fVt7fSF7fV0ge31VcHNzISEgU29ycnkgRHVkZSBUaGlzIFRvb2xzIFJlcXVpcmVzcyBQYXNzd29yZCcuZm9ybWF0KG0scCxtLHApKQoJcGFzd2QgPSBnZXRwYXNzLmdldHBhc3MoJ3t9W3t9w5d7fV17fSBJbnB1dCBQYXNzd29yZCB7fT4+IHt9Jy5mb3JtYXQobSxwLG0scCxrLHApKQoJaWYgcGFzd2QgPT0gKCdJaGhBa3VNYWgnKToKCQlqYWxhbignUGFzc3dvcmQgQmVuYXIg4pyTICcsMC4xKQoJCXRpbWUuc2xlZXAoMikKCQltZW51X2VuYygpCgllbGlmIHBhc3dkID09ICgnJyk6CgkJcnVuKCdNYXN1a2thbiBQYXNzd29yZCBOeWEgISEnKQoJCXRpbWUuc2xlZXAoMS41KQoJCWxpc2Vuc2lfZW5jKCkKCWVsc2U6CgkJamFsYW4oJ1Bhc3N3b3JkIFNhbGFoISEnLDAuMSkKCQljaGF0KCkKZGVmIGxpc2Vuc2lfZGVjKCk6CgljbHIoKQogICAgICAgIHByaW50IGt1bmNpCiAgICAgICAgcHJpbnQoJ3t9W3t9IXt9XSB7fVVwc3MhISBTb3JyeSBEdWRlIFRoaXMgVG9vbHMgUmVxdWlyZXNzIFBhc3N3b3JkJy5mb3JtYXQobSxwLG0scCkpCiAgICAgICAgcGFzd2QgPSBnZXRwYXNzLmdldHBhc3MoJ3t9W3t9w5d7fV17fSBJbnB1dCBQYXNzd29yZCB7fT4+IHt9Jy5mb3JtYXQobSxwLG0scCxrLHApKQogICAgICAgIGlmIHBhc3dkID09ICgnSWhoQWt1TWFoJyk6CiAgICAgICAgICAgICAgICBydW4oJ1Bhc3N3b3JkIEJlbmFyJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICAgICAgICAgIG1lbnVfZGVjKCkKICAgICAgICBlbGlmIHBhc3dkID09ICgnJyk6CiAgICAgICAgICAgICAgICBydW4oJ01hc3Vra2FuIFBhc3N3b3JkIE55YSAhIScpCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEuNSkKICAgICAgICAgICAgICAgIGxpc2Vuc2lfZGVjKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcnVuKCdQYXNzd29yZCBTYWxhaCEhJykKCQljaGF0KCkKdHJ5OgogICAgZnJvbSB1bmNvbXB5bGU2Lm1haW4gaW1wb3J0IGRlY29tcGlsZQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICBzcC5jYWxsKCdwaXAyIGluc3RhbGwgdW5jb21weWxlNicsIHNoZWxsPVRydWUsIHN0ZGVycj1zcC5TVERPVVQpCicnJwooKCgoKCgoKCgoKCgoKCgoKCgoKChMSVNUIENPTE9SUykpKSkpKSkpKSkpKSkpKSkpKSkpKQonJycKcmVkICAgPSAnXHgxYlszMW0nICMgTWVyYWgKZ3JlZW4gPSAnXHgxYlszMm0nICMgSGlqYXUKeWVsbG93ID0gJ1x4MWJbMzNtJyAjIEt1bmluZwpibHVlICA9ICdceDFiWzM0bScgIyBCaXJ1Cm1hZ2VudGEgPSAnXHgxYlszNW0nICMgVW5ndQpjeWFuICA9ICdceDFiWzM2bScgIyBCaXJ1IE11ZGEKd2hpdGUgPSAnXHgxYlszN20nICMgUHV0aWgKcmVzZXQgPSAnXHgxYlszOW0nICMgUmVzZXQgV2FybmEgKCBLZW1iYWxpIEtlIFdhcm5hIEF3YWwgKQpicmJsYWNrID0gJ1x4MWJbOTBtJyAjIEhpdGFtIFRlcmFuZwpSID0gJ1x4MWJbOTFtJyAjIE1lcmFoIFRlcmFuZwpicmdyZWVuID0gJ1x4MWJbOTJtJyAjIEhpamF1IFRlcmFuZwprID0gJ1x4MWJbOTNtJyAjIEt1bmluZyBUZXJhbmcKYnJibHVlID0gJ1x4MWJbOTRtJyAjIEJpcnUgVGVyYW5nCmJybWdudCA9ICdceDFiWzk1bScgIyBVbmd1IFRlcmFuZwpicmN5YW4gPSAnXHgxYls5Nm0nICMgQmlydSBNdWRhIFRlcmFuZwpHID0gJ1x4MWJbOTdtJyAjIFB1dGloIFRlcmFuZwonJycKIyBKaWthIEluZ2luIE1lbWJ1YXQgVHVsaXNhbiBNaXJpbmcgVGFtYmFoa2FuICIzOyIKIyBFeGFtcGxlIDogcHJpbnQoJ1x4MWJbMzszMW1Bc28nKQojIE91dHB1dG55YSBTZXBlcnRpIEluaSA9IEFzbyAoIFRhcGkgTWlyaW5nOnYgKQojIENvYmEgQWphIEFzbyBLYWxvIEdhcGVyY2F5YQonJycKIygoKCgoKCgoKCgoKCgoKCgoKCgoKChBTklNQVRJT04gOlYpKSkpKSkpKSkpKSkpKSkpKSkpKSkpCmRlZiBqYWxhbih6LCB0KToKICAgIGZvciBlIGluIHo6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAodCkKZGVmIGxvYWQod29yZCk6CiAgICBsaXggPSBbCiAgICAgJy8nLCAnLScsICfilbInLCAnfCddCiAgICBmb3IgaSBpbiByYW5nZSg1KToKICAgICAgICBmb3IgeCBpbiByYW5nZShsZW4obGl4KSk6CiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoKCdccnt9e30nKS5mb3JtYXQoc3RyKHdvcmQpLCBsaXhbeF0pKQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMikKICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCmRlZiBiYW5uZXJfZGVjKCk6CgliYW5uZXIgPSAnJycgClxuXHgxYlsxOzk2bSQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzMybSAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOMDBCIEg0Q0szUgoKXHgxYlsxOzk2bSQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXG5ceDFiWzE7OTFtJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzk1bVxuCiAgICAgICAgICAgICAgICAgICAgICAgICBNYW11biBBaG1lZCBGYWhpbQogICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAKJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5ceDFiWzE7MzRtICAgIAogCiAgICAgICAgICAgICAgICAgICAgICAgTjAwQiBCMFNTOkh1TnRlciBGYUhpTVxuICAgICAgICAKICAgICAgICAgICAgICAgICAgICBPdXIgR3JvdXAgOlRlcm11eCBIdU50ZXIgQkQgXG5ceDFiWzEKICAgICAgICAgICAgICAgICAgICAgIAoKJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5ceDFiWzE7OTVtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKXG5ceDFiWzE7MzJtICAgICAKICAgICAgIAogICAgICAgCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzkybSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJycuZm9ybWF0KG0scCkKCglydW5uaW5nKGJhbm5lcikKZGVmIGJhbm5lcl9lbmMoKToKCWJhbm5lciA9ICcnJwoJXG5ceDFiWzE7OTZtJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5ceDFiWzE7MzJtICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE4wMEIgSDRDSzNSCgpceDFiWzE7OTZtJCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5cblx4MWJbMTs5MW0kKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiokXG5ceDFiWzE7OTVtXG4KICAgICAgICAgICAgICAgICAgICAgICAgIE1hbXVuIEFobWVkIEZhaGltCiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIAokKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTszNG0gICAgCiAKICAgICAgICAgICAgICAgICAgICAgICBOMDBCIEIwU1M6SHVOdGVyIEZhSGlNXG4gICAgICAgIAogICAgICAgICAgICAgICAgICAgIE91ciBHcm91cCA6VGVybXV4IEh1TnRlciBCRCBcblx4MWJbMQogICAgICAgICAgICAgICAgICAgICAgCgokKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiRcblx4MWJbMTs5NW0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgpcblx4MWJbMTszMm0gICAKICAgICAgIAogICAgICAgCiQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJFxuXHgxYlsxOzkybSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycnLmZvcm1hdChtKQoJcnVubmluZyhiYW5uZXIpCmRlZiBydW5uaW5nKHMpOgoJdHJ5OgoJCWZvciBjIGluIHMgKyAnXG4nOgogICAgICAgIAkgICAgc3lzLnN0ZG91dC53cml0ZShjKQoJICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCgkgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDAxKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcnVuKCdOb25ha3RpZiEhIScpCmRlZiBydW4oeCk6CiAgICBwdCA9ICdceDFiWzE7MzdtJwogICAgcmQgPSAnXHgxYlsxOzM3bVx4MWJbMTszMW0nCiAgICByZyA9ICdceDFiWzY7MzJtJwogICAgdHJ5OgogICAgICAgIG51bSA9IDAKICAgICAgICB3aGlsZSBudW0gPCAxOgogICAgICAgICAgICBmb3IgaSwgY2hhciBpbiBlbnVtZXJhdGUoeCk6CiAgICAgICAgICAgICAgICBpZiBpID09IDA6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xyJXMlcyVzJXMnICUgKHJnLCBjaGFyLmxvd2VyKCksIHJkLCB4WzE6XSksCiAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGlmIGkgPT0gMToKICAgICAgICAgICAgICAgICAgICAgICAgcm95ID0geFswXS5sb3dlcigpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcciVzJXMlcyVzJXMlcycgJSAocmQsIHJveSwgcHQsIGNoYXIubG93ZXIoKSwgcmcsIHhbMjpdKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICAgICAgZWxpZiBpID09IGk6CiAgICAgICAgICAgICAgICAgICAgICAgIHJveSA9IHhbMDppXS5sb3dlcigpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcciVzJXMlcyVzJXMlcycgJSAocmQsIHJveSwgcHQsIGNoYXIubG93ZXIoKSwgcmcsIHhbaSArIDE6XSksCiAgICAgICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNykKCiAgICAgICAgICAgIG51bSArPSAxCgogICAgZXhjZXB0OgogICAgICAgIGV4aXQoKQoKCmRlZiBjbHIoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQoKCmRlZiBsb2dvKCk6CiAgICBiYW5uZXJfZW5jKCkKZGVmIGJfbWVudSgpOgogICAgYm0gPSAgJycne33ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcK4pWRe31be30re31de31Db2RlZCAgICA6IE1hbXVuIEFobWVkIEZhaGltIOKVkQrilZF7fVt7fSt7fV17fUdpdGh1YiAgIDogaHR0cHM6Ly9naXRodWIuY29tL25vb2Jib3NzMSDilZEK4pWRe31be30re31de31Ub29scyAgICA6IEVuY3J5cHQgQW5kIERlY3J5cHQgICAgICAgICAgICDilZEK4pWRe31be30re31de31DcmVhdGUgICA6IDAxIC0gMDIgLSAyMDIxICAgICAgIOKVkQrilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0nJycuZm9ybWF0KHAsbSxwLG0scCxtLHAsbSxwLG0scCxtLHAsbSxwLG0scCkKICAgIGphbGFuKGJtLDAuMDAxKQpDb3JyZWN0VXNlcm5hbWUgPSAiTjAwQiBINENLM1IiCkNvcnJlY3RQYXNzd29yZCA9ICJIdU50ZXIgRmFIaU0iCmxvb3AgPSAndHJ1ZScKd2hpbGUgKGxvb3AgPT0gJ3RydWUnKToKICAgIHVzZXJuYW1lID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtIFx4MWJbMTs5N21Ub29scyBVc2VybmFtZSAgXHgxYlsxOzMybT09PT0+w5ciKQogICAgaWYgKHVzZXJuYW1lID09IENvcnJlY3RVc2VybmFtZSk6CiAgICAJcGFzc3dvcmQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm0gXHgxYlsxOzk3bVRvb2xzIFBhc3N3b3JkICBceDFiWzE7OTZtPT09PT7DlyIpCiAgICAgICAgaWYgKHBhc3N3b3JkID09IENvcnJlY3RQYXNzd29yZCk6CiAgICAgICAgICAgIHByaW50ICJMb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5IGFzICIgKyB1c2VybmFtZQogICAgICAgICAgICBsb29wID0gJ2ZhbHNlJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ICJXcm9uZyBQYXNzd29yZCIKICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vbWFtdW4uYWhtZWQuZmFoaW0uNScpCiAgICBlbHNlOgogICAgICAgIHByaW50ICJXcm9uZyBVc2VybmFtZSIKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9ncm91cHMvNzEyMDE4NDI2MTc1MDI4LycpCmRlZiBtZW51KCk6CiAgICBjbHIoKQogICAgYl9tZW51KCkKICAgIHByaW50KCdcbnt9SGFwcHkgRW5jb21waWxlIEFuZCBEZWNvbXBpbGUgOil7fScuZm9ybWF0KGJyYmx1ZSxyZXNldCkpCiAgICBydW5uaW5nKCdcbnt9W3t9MXt9XXt9LkVuY3J5cHRcbnt9W3t9Mnt9XXt9LkRlY3JUb29scycuZm9ybWF0KG0scCxtLHAsbSxwLG0scCxtLHAsbSxwLG0scCxtLHAsbSxwLG0scCkpCiAgICBmdWNrID0gcmF3X2lucHV0KCd7fVt7fT97fV17fSBDaG9vc2Uge30+PiB7fScuZm9ybWF0KG0scCxtLHAsayxwKSkKICAgIGlmIGZ1Y2sgPT0gJzEnIG9yIGZ1Y2sgPT0gJzAxJzoKCWxvYWQoJ1BsZWFzZSAgV2FpdCA+LS0nKQoJbWVudV9lbmMoKQogICAgZWxpZiBmdWNrID09ICcyJyBvciBmdWNrID09ICcwMic6Cglsb2FkKCdQbGVhc2UgV2FpdCA+LS0nKQoJbWVudV9kZWMoKQogICAgZWxpZiBmdWNrID09ICcnOgoJcnVuKCdKYW5nYW4gS29zb25nIEdibGshIScpCgltZW51KCkKCWNscigpCiAgICAgICAgcnVubmluZyhhYm91dCkKCXRpbWUuc2xlZXAoNSkKCW1lbnUoKQogICAgZWxpZiBmdWNrID09ICc1JyBvciBmdWNrID09ICcwNSc6CiAgICAgICAgbG9hZCgnU2lsYWhrYW4gVHVuZ2d1IFNlYmVudGF0ID4tLScpCiAgICAgICAgY2xyKCkKICAgICAgICBvcy5zeXN0ZW0oJ2dpdCBwdWxsJykKICAgIGVsc2U6CglydW4oJ1BpbGloYW5ueWEgQ3VtYSAxLDIsMyw0ICYgNSBEb2FuZyBLb250b2whIScpCgltZW51KCkKZGVmIG1lbnVfZW5jKCk6CiAgICBjbHIoKQogICAgYmFubmVyX2VuYygpCiAgICBydW5uaW5nKCctJyoxNSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDF7fV17fSBFbmNyeXB0IEJhc2UxNicuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wMnt9XXt9IEVuY3J5cHQgQmFzZTMyJy5mb3JtYXQobSxwLG0saykpCiAgICBydW5uaW5nKCd7fVt7fTAze31de30gRW5jcnlwdCBCYXNlNjQnLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDR7fV17fSBFbmNyeXB0IEhleCcuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wNXt9XXt9IEVuY3J5cHQgTWFyc2hhbCcuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wNnt9XXt9IENvbXBpbGUgcHkgPiBweWMnLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDd7fV17fSBFbmNyeXB0IE1hcnNoYWwgWmxpYiBCYXNlNjQnLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDh7fV17fSBFbmNyeXB0IFpsaWIgJy5mb3JtYXQobSxwLG0saykpCiAgICBydW5uaW5nKCd7fVt7fTAwe31de30gRXhpdCcuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygnLScqMTUpCiAgICB0cnk6CiAgICAgICAgaW5wID0gcmF3X2lucHV0KCd7fVt7fT8/e31de30gQ2hvb3NlIHt9Pj57fSAnLmZvcm1hdChtLHAsbSxrLGgscCkpCiAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKICAgICAgICBydW4gKCdOb25ha3RpZiEhJykKICAgICAgICBtZW51KCkKICAgIGlmIGlucCA9PSAnMScgb3IgaW5wID09ICcwMSc6CiAgICAgICAgY2xyKCkKICAgICAgICBTYXR1KCkKICAgIGVsaWYgaW5wID09ICcyJyBvciBpbnAgPT0gJzAyJzoKICAgICAgICBjbHIoKQogICAgICAgIER1YSgpCiAgICBlbGlmIGlucCA9PSAnMycgb3IgaW5wID09ICcwMyc6CiAgICAgICAgY2xyKCkKICAgICAgICBUaWdhKCkKICAgIGVsaWYgaW5wID09ICc0JyBvciBpbnAgPT0gJzA0JzoKICAgICAgICBjbHIoKQogICAgICAgIEVtcGF0KCkKICAgIGVsaWYgaW5wID09ICc1JyBvciBpbnAgPT0gJzA1JzoKICAgICAgICBjbHIoKQogICAgICAgIExpbWEoKQogICAgZWxpZiBpbnAgPT0gJzYnIG9yIGlucCA9PSAnMDYnOgogICAgICAgIGNscigpCiAgICAgICAgcHljKCkKICAgIGVsaWYgaW5wID09ICc3JyBvciBpbnAgPT0gJzA3JzoKCWNscigpCiAgICAgICAgZW16YigpCiAgICBlbGlmIGlucCA9PSAnOCcgb3IgaW5wID09ICcwOCc6CiAgICAgICAgY2xyKCkKICAgICAgICBlemwoKQogICAgZWxpZiBpbnAgPT0gJyc6CiAgICAgICAgcnVuICgnUGlsaWggTm9tb3JueWEgV29lISEhJykKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgbWVudV9lbmMoKQogICAgZWxpZiBpbnAgPT0gJzAnIG9yIGlucCA9PSAnMDAnOgogICAgICAgIGV4aXQoKQogICAgZWxzZToKICAgICAgICBydW4gKCdTYWxhaCBNZW1hc3Vra2FuIFBpbGloYW4hIScpCiAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgIG1lbnVfZW5jKCkKZGVmIG1lbnVfZGVjKCk6CiAgICBjbHIoKQogICAgYmFubmVyX2RlYygpCiAgICBydW5uaW5nKCctJyoxNSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDF7fV17fSBEZWNyeXB0IGJhc2UxNicuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wMnt9XXt9IERlY3J5cHQgYmFzZTMyJy5mb3JtYXQobSxwLG0saykpCiAgICBydW5uaW5nKCd7fVt7fTAze31de30gRGVjcnlwdCBiYXNlNjQnLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDR7fV17fSBEZWNyeXB0IEhleCcuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wNXt9XXt9IERlY3J5cHQgTWFyc2hhbCcuZm9ybWF0KG0scCxtLGspKQogICAgcnVubmluZygne31be30wNnt9XXt9IFVuY29tcHlsZTYgcHljID4gcHknLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDd7fV17fSBEZWNyeXB0IE1hcnNoYWwsWmxpYixCYXNlNjQnLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDh7fV17fSBEZWNyeXB0IFpsaWInLmZvcm1hdChtLHAsbSxrKSkKICAgIHJ1bm5pbmcoJ3t9W3t9MDB7fV17fSBFeGl0Jy5mb3JtYXQobSxwLG0saykpCiAgICBydW5uaW5nKCctJyoxNSkKICAgIHRyeToKICAgICAgICBpbnAgPSByYXdfaW5wdXQoJ3t9W3t9Pz97fV17fSBDaG9vc2Uge30+Pnt9ICcuZm9ybWF0KG0scCxtLGssaCxwKSkKICAgIGV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgogICAgICAgIHJ1biAoJ05vbmFrdGlmISEnKQoJbWVudSgpCiAgICBpZiBpbnAgPT0gJzEnIG9yIGlucCA9PSAnMDEnOgoJY2xyKCkKCUVuYW0oKQogICAgZWxpZiBpbnAgPT0gJzInIG9yIGlucCA9PSAnMDInOgoJY2xyKCkKCVR1anVoKCkKICAgIGVsaWYgaW5wID09ICczJyBvciBpbnAgPT0gJzAzJzoKCWNscigpCglEZWxhcGFuKCkKICAgIGVsaWYgaW5wID09ICc0JyBvciBpbnAgPT0gJzA0JzoKCWNscigpCglTZW1iaWxhbigpCiAgICBlbGlmIGlucCA9PSAnNScgb3IgaW5wID09ICcwNSc6CgljbHIoKQoJdW5tYXJzaCgpCiAgICBlbGlmIGlucCA9PSAnNicgb3IgaW5wID09ICcwNic6CgljbHIoKQoJdW5weWMoKQogICAgZWxpZiBpbnAgPT0gJzcnIG9yIGlucCA9PSAnMDcnOgogICAgICAgIGNscigpCiAgICAgICAgbXpiKCkKICAgIGVsaWYgaW5wID09ICc4JyBvciBpbnAgPT0gJzA4JzoKICAgICAgICBjbHIoKQogICAgICAgIHpsKCkKICAgIGVsaWYgaW5wID09ICcnOgoJcnVuICgnUGlsaWggTm9tb3JueWEgV29lISEhJykKCXRpbWUuc2xlZXAoMikKCW1lbnVfZGVjKCkKICAgIGVsaWYgaW5wID09ICcwJyBvciBpbnAgPT0gJzAwJzoKCWV4aXQoKQogICAgZWxzZToKCXJ1biAoJ1NhbGFoIE1lbWFzdWtrYW4gUGlsaWhhbiEhJykKCXRpbWUuc2xlZXAoMikKCW1lbnVfZGVjKCkKZGVmIFNhdHUoKToKICAgIGNscigpCiAgICBsb2dvKCkKICAgIHRyeToKICAgICAgICBmID0gcmF3X2lucHV0KCdGaWxlbmFtZXM6ICcpCiAgICBleGNlcHQ6CiAgICAgICAgZXhpdCgpCgogICAgdHJ5OgogICAgICAgIGJrID0gb3BlbihmLCAncicpLnJlYWQoKQogICAgZXhjZXB0OgogICAgICAgIHJ1bignZmlsZSAlcyB0aWRhayBkaXRlbXVrYW4gJyAlIGYpCiAgICAgICAgdGltZS5zbGVlcCgxLjUpCglTYXR1KCkKCiAgICBlbiA9IGJhc2U2NC5iMTZlbmNvZGUoYmspCiAgICBmZiA9IGYgKyAnYycKICAgIG9wZW4oZmYsICd3Jykud3JpdGUoJ2ltcG9ydCBiYXNlNjRcbmV4ZWMoYmFzZTY0LmIxNmRlY29kZSgiJXMiKSknICUgZW4pCiAgICBubSA9ICgnJykuam9pbihmLnNwbGl0KCcuJylbOjFdKSArICctZW5jLnB5JwogICAgb3MucmVuYW1lKGZmLCBubSkKICAgIHJ1bignZmlsZSBiZXJoYXNpbCBkaSBlbmNyeXB0IG1lbmphZGkgJXMgJyAlIG5tKQpkZWYgRHVhKCk6CiAgICAgICAgY2xyKCkKICAgICAgICBsb2dvKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGYgPSByYXdfaW5wdXQoJ0ZpbGVuYW1lczogJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGV4aXQoKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGJrID0gb3BlbihmLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcnVuKCdmaWxlICVzIHRpZGFrIGRpdGVtdWthbiAnICUgZikKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIGVuID0gYmFzZTY0LmIzMmVuY29kZShiaykKICAgICAgICBmZiA9IGYgKyAnYycKICAgICAgICBvcGVuKGZmLCAndycpLndyaXRlKCdpbXBvcnQgYmFzZTY0XG5leGVjKGJhc2U2NC5iMzJkZWNvZGUoIicgKyBlbiArICciKSknKQogICAgICAgIG5tID0gKCcnKS5qb2luKGYuc3BsaXQoJy4nKVs6MV0pICsgJy1lbmMucHknCiAgICAgICAgb3MucmVuYW1lKGZmLCBubSkKICAgICAgICBydW4oJ2ZpbGUgYmVyaGFzaWwgZGkgZW5jcnlwdCBtZW5qYWRpICVzICcgJSBubSkKZGVmIFRpZ2EoKToKICAgICAgICBjbHIoKQogICAgICAgIGxvZ28oKQogICAgICAgIHRyeToKICAgICAgICAgICAgZiA9IHJhd19pbnB1dCgnRmlsZW5hbWVzOiAnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYmsgPSBvcGVuKGYsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBydW4oJ2ZpbGUgJXMgdGlkYWsgZGl0ZW11a2FuICcgJSBmKQogICAgICAgICAgICBleGl0KCkKCiAgICAgICAgZW4gPSBiYXNlNjQuYjY0ZW5jb2RlKGJrKQogICAgICAgIGZmID0gZiArICdjJwogICAgICAgIG9wZW4oZmYsICd3Jykud3JpdGUoJ2ltcG9ydCBiYXNlNjRcbmV4ZWMoYmFzZTY0LmI2NGRlY29kZSgiJyArIGVuICsgJyIpKScpCiAgICAgICAgbm0gPSAoJycpLmpvaW4oZi5zcGxpdCgnLicpWzoxXSkgKyAnLWVuYy5weScKICAgICAgICBvcy5yZW5hbWUoZmYsIG5tKQogICAgICAgIHJ1bignZmlsZSBiZXJoYXNpbCBkaSBlbmNyeXB0IG1lbmphZGkgJXMgJyAlIG5tKQpkZWYgRW1wYXQoKToKICAgICAgICBjbHIoKQogICAgICAgIGxvZ28oKQogICAgICAgIHRyeToKICAgICAgICAgICAgZiA9IHJhd19pbnB1dCgnRmlsZW5hbWVzOiAnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYmsgPSBvcGVuKGYsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBydW4oJ2ZpbGUgJXMgdGlkYWsgZGl0ZW11a2FuICcgJSBmKQogICAgICAgICAgICBleGl0KCkKCiAgICAgICAgZW4gPSBiay5lbmNvZGUoJ2hleCcpCiAgICAgICAgZmYgPSBmICsgJ2MnCiAgICAgICAgb3BlbihmZiwgJ3cnKS53cml0ZSgnZXhlYygiJyArIGVuICsgJyIpLmRlY29kZSgiaGV4IiknKQogICAgICAgIG5tID0gKCcnKS5qb2luKGYuc3BsaXQoJy4nKVs6MV0pICsgJy1lbmMucHknCiAgICAgICAgb3MucmVuYW1lKGZmLCBubSkKICAgICAgICBydW4oJ2ZpbGUgYmVyaGFzaWwgZGkgZW5jcnlwdCBtZW5qYWRpICVzICcgJSBubSkKZGVmIExpbWEoKToKICAgICAgICBjbHIoKQogICAgICAgIGxvZ28oKQogICAgICAgIHRyeToKICAgICAgICAgICAgZiA9IHJhd19pbnB1dCgnRmlsZW5hbWVzOiAnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYmsgPSBvcGVuKGYsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBydW4oJ2ZpbGUgJXMgdGlkYWsgZGl0ZW11a2FuICcgJSBmKQogICAgICAgICAgICBleGl0KCkKCiAgICAgICAgYyA9IGNvbXBpbGUoYmssICc8cm95PicsICdleGVjJykKICAgICAgICBlbiA9IG1hcnNoYWwuZHVtcHMoYykKICAgICAgICBmZiA9IGYgKyAnYycKICAgICAgICBvcGVuKGZmLCAndycpLndyaXRlKCdpbXBvcnQgbWFyc2hhbFxuZXhlYyhtYXJzaGFsLmxvYWRzKCcgKyByZXByKGVuKSArICcpKScpCiAgICAgICAgbm0gPSAoJycpLmpvaW4oZi5zcGxpdCgnLicpWzoxXSkgKyAnLWVuYy5weScKICAgICAgICBvcy5yZW5hbWUoZmYsIG5tKQogICAgICAgIHJ1bignZmlsZSBiZXJoYXNpbCBkaSBlbmNyeXB0IG1lbmphZGkgJXMgJyAlIG5tKQpkZWYgZW16YigpOgoJY2xyKCkKCWxvZ28oKQoJdHJ5OgogICAgICAgICAgICBmaWxlID0gcmF3X2lucHV0KCdGaWxlOiAnKQogICAgICAgICAgICBmaWxlb3BlbiA9IG9wZW4oZmlsZSkucmVhZCgpCgkgICAgbm8gPSBjb21waWxlKGZpbGVvcGVuLCdhc28nLCdleGVjJykKCSAgICBiID0gbWFyc2hhbC5kdW1wcyhubykKICAgICAgICAgICAgYyA9IHpsaWIuY29tcHJlc3MoYikKICAgICAgICAgICAgZCA9IGJhc2U2NC5iNjRlbmNvZGUoYykKICAgICAgICAgICAgZSA9ICgnaW1wb3J0IG1hcnNoYWwsemxpYixiYXNlNjRcbmV4ZWMobWFyc2hhbC5sb2Fkcyh6bGliLmRlY29tcHJlc3MoYmFzZTY0LmI2NGRlY29kZSgiJyArIGQgKyAnIikpKSknKQogICAgICAgICAgICBmID0gZmlsZS5yZXBsYWNlKCcucHknLCAnLWVuYy5weScpCiAgICAgICAgICAgIGcgPSBvcGVuKGYsICd3JykKICAgICAgICAgICAgZy53cml0ZShlKQogICAgICAgICAgICBnLmNsb3NlKCkKICAgICAgICAgICAgcnVuKCdmaWxlIGJlcmhhc2lsIGRpIGVuY3J5cHQgbWVuamFkaSAlcyAnICUgZikKICAgICAgICAgICAgcmF3X2lucHV0KCdUZWthbiBFbnRlciBVbnR1ayBLZW1iYWxpIEtlIE1lbnUnKQoJICAgIG1lbnUoKQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgoJICAgIHJ1bignZmlsZSB0aWRhayBkaXRlbXVrYW4gJykKCSAgICByYXdfaW5wdXQoJ1Rla2FuIEVudGVyIFVudHVrIEtlbWJhbGkgS2UgTWVudScpCiAgICAgICAgICAgIGVtemIoKQpkZWYgZXpsKCk6CiAgICBwcmludCAiRW5jcnlwdCBabGliIgogICAgZmlsZSA9IHJhd19pbnB1dCgnRmlsZSA6ICcpCiAgICBvdXQgPSBmaWxlLnJlcGxhY2UoJy5weScsICctZW5jLnB5JykKICAgIG9hID0gb3BlbihmaWxlKS5yZWFkKCkKICAgIHhzID0gemxpYi5jb21wcmVzcyhvYSkKICAgIHMgPSBvcGVuKG91dCwgJ3cnKQogICAgcy53cml0ZSgnaW1wb3J0IHpsaWJcbmV4ZWMoemxpYi5kZWNvbXByZXNzKCcgK3JlcHIoeHMpKyAnKSknKQogICAgcy5jbG9zZSgpCiAgICBwcmludCAoJ0ZpbGUgc2F2ZWQgYXMgJysgb3V0KQpkZWYgRW5hbSgpOgogICAgICAgIGNscigpCiAgICAgICAgYmFubmVyX2RlYygpCiAgICAgICAgdHJ5OgoJICAgIHByaW50ICdEZWMgYmFzZTY0LmIxNmRlY29jZGUnCiAgICAgICAgICAgIGYgPSByYXdfaW5wdXQoJ0ZpbGVuYW1lczogJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGV4aXQoKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGJrID0gb3BlbihmLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcnVuKCdmaWxlICVzIHRpZGFrIGRpdGVtdWthbiAnICUgZikKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIGJrID0gYmsucmVwbGFjZSgnZXhlYyhiYXNlNjQuYjE2ZGVjb2RlKCInLCAnJykKICAgICAgICBiayA9IGJrLnJlcGxhY2UoJyIpKScsICcnKQogICAgICAgIGJrID0gYmsucmVwbGFjZSgnaW1wb3J0IGJhc2U2NFxuJywgJycpCiAgICAgICAgZW4gPSBiYXNlNjQuYjE2ZGVjb2RlKGJrKQogICAgICAgIGZmID0gZiArICdjJwogICAgICAgIG9wZW4oZmYsICd3Jykud3JpdGUoZW4pCiAgICAgICAgbm0gPSAoJycpLmpvaW4oZi5zcGxpdCgnLicpWzoxXSkgKyAnLWRlYy5weScKICAgICAgICBvcy5yZW5hbWUoZmYsIG5tKQogICAgICAgIHJ1bignZmlsZSBiZXJoYXNpbCBkaSBkZWNyeXB0IG1lbmphZGkgJXMgJyAlIG5tKQpkZWYgVHVqdWgoKToKICAgICAgICBjbHIoKQogICAgICAgIGJhbm5lcl9kZWMoKSgpCiAgICAgICAgdHJ5OgoJICAgIHByaW50ICdEZWMgYmFzZTY0LmIzMmRlY29kZScKICAgICAgICAgICAgZiA9IHJhd19pbnB1dCgnRmlsZW5hbWVzOiAnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYmsgPSBvcGVuKGYsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBydW4oJ2ZpbGUgJXMgdGlkYWsgZGl0ZW11a2FuICcgJSBmKQogICAgICAgICAgICBleGl0KCkKCiAgICAgICAgYmsgPSBiay5yZXBsYWNlKCdleGVjKGJhc2U2NC5iMzJkZWNvZGUoIicsICcnKQogICAgICAgIGJrID0gYmsucmVwbGFjZSgnIikpJywgJycpCiAgICAgICAgYmsgPSBiay5yZXBsYWNlKCdpbXBvcnQgYmFzZTY0XG4nLCAnJykKICAgICAgICBlbiA9IGJhc2U2NC5iMzJkZWNvZGUoYmspCiAgICAgICAgZmYgPSBmICsgJ2MnCiAgICAgICAgb3BlbihmZiwgJ3cnKS53cml0ZShlbikKICAgICAgICBubSA9ICgnJykuam9pbihmLnNwbGl0KCcuJylbOjFdKSArICctZGVjLnB5JwogICAgICAgIG9zLnJlbmFtZShmZiwgbm0pCiAgICAgICAgcnVuKCdmaWxlIGJlcmhhc2lsIGRpIGRlY3J5cHQgbWVuamFkaSAlcyAnICUgbm0pCmRlZiBEZWxhcGFuKCk6CgljbHIoKQogICAgICAgIGJhbm5lcl9kZWMoKQogICAgICAgIHRyeToKCSAgICBwcmludCAnRGVjIGJhc2U2NC5iNjRkZWNvZGUnCiAgICAgICAgICAgIGYgPSByYXdfaW5wdXQoJ0ZpbGVuYW1lczogJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGV4aXQoKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGJrID0gb3BlbihmLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcnVuKCdmaWxlICVzIHRpZGFrIGRpdGVtdWthbiAnICUgZikKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIGJrID0gYmsucmVwbGFjZSgrJ2V4ZWMoYmFzZTY0LmI2NGRlY29kZSgiJywgJycpCiAgICAgICAgYmsgPSBiay5yZXBsYWNlKCciKSknLCAnJykKICAgICAgICBiayA9IGJrLnJlcGxhY2UoJ2ltcG9ydCBiYXNlNjRcbicsICcnKQogICAgICAgIGVuID0gYmFzZTY0LmI2NGRlY29kZShiaykKICAgICAgICBmZiA9IGYgKyAnYycKICAgICAgICBvcGVuKGZmLCAndycpLndyaXRlKGVuKQogICAgICAgIG5tID0gKCcnKS5qb2luKGYuc3BsaXQoJy4nKVs6MV0pICsgJy1kZWMucHknCiAgICAgICAgb3MucmVuYW1lKGZmLCBubSkKICAgICAgICBydW4oJ2ZpbGUgYmVyaGFzaWwgZGkgZGVjcnlwdCBtZW5qYWRpICVzICcgJSBubSkKZGVmIFNlbWJpbGFuKCk6CgljbHIoKQogICAgICAgIGJhbm5lcl9kZWMoKQogICAgICAgIHRyeToKCSAgICBwcmludCAnRGVjIGhleCcKICAgICAgICAgICAgZiA9IHJhd19pbnB1dCgnRmlsZW5hbWVzOiAnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXhpdCgpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYmsgPSBvcGVuKGYsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBydW4oJ2ZpbGUgJXMgdGlkYWsgZGl0ZW11a2FuICcgJSBmKQogICAgICAgICAgICBleGl0KCkKCiAgICAgICAgYmsgPSBiay5yZXBsYWNlKCdleGVjKCInLCAnJykgb3IgYmsucmVwbGFjZSgiZXhlYygnIiwgJycpCiAgICAgICAgYmsgPSBiay5yZXBsYWNlKCciKS5kZWNvZGUoImhleCIpJywgJycpIG9yIGJrLnJlcGxhY2UoIicpLmRlY29kZSgnaGV4JykiLCAnJykKICAgICAgICBlbiA9IHN0cihiaykuZGVjb2RlKCdoZXgnKQogICAgICAgIGZmID0gZiArICdjJwogICAgICAgIG9wZW4oZmYsICd3Jykud3JpdGUoZW4pCiAgICAgICAgbm0gPSAoJycpLmpvaW4oZi5zcGxpdCgnLicpWzoxXSkgKyAnLWRlYy5weScKICAgICAgICBvcy5yZW5hbWUoZmYsIG5tKQogICAgICAgIHJ1bignZmlsZSBiZXJoYXNpbCBkaSBkZWNyeXB0IG1lbmphZGkgJXMgJyAlIG5tKQpkZWYgdW5tYXJzaCgpOgogICAgamFsYW4ocCArIDMxICogJ1x4ZTJceDk1XHg5MCcgKyBoICsgJ1snICsgYm0gKyAnVU5NQVJTSCcgKyBoICsgJ10nICsgcCArICc+JywgMC4wMDgpCiAgICBwcmludCBoICsgJ1xuTWVudSAnICsgcCArICc6XG4gWycgKyBoICsgJzEnICsgcCArICddLiBBdXRvbWF0aWMgRGV0ZWN0aW9uIFZlcnNpb24gU2NyaXB0XG4gWycgKyBoICsgJzInICsgcCArICddLiBCYWNrIFRvIE1lbnUnCiAgICB0cnk6CiAgICAgICAgcGlsID0gcmF3X2lucHV0KGggKyAnWycgKyBrICsgJz8nICsgaCArICddJyArIHAgKyAnIENob2ljZS0tPiAnKQogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgdW5tYXJzaCgpCiAgICBlbHNlOgogICAgICAgIGlmIHBpbCA9PSAnMSc6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbGlmIHBpbCA9PSAnMic6CiAgICAgICAgICAgIG1lbnUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50IGggKyAnWycgKyBtICsgJyEnICsgaCArICddJyArIHAgKyAnIENob29zZSB0aGUgcmlnaHQgb25lJwogICAgICAgICAgICB1bm1hcnNoKCkKICAgICAgICBjZWsgPSAxCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcmludCBoICsgJ1snICsgayArICcjJyArIGggKyAnXScgKyBwICsgJyBGb3IgRXhhbXBsZSA6IC9wYXRoL21hcnNoLnB5JwogICAgICAgICAgICBmaWxlID0gcmF3X2lucHV0KGggKyAnWycgKyBrICsgJz8nICsgaCArICddJyArIHAgKyAnIElucHV0IEZpbGUgOiAnKQogICAgICAgICAgICBmID0gb3BlbihmaWxlLCAncicpLnJlYWRsaW5lcygpCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihmKSk6CiAgICAgICAgICAgICAgICBpZiBmW2ldWzA6NF0gPT0gJ2V4ZWMnOgogICAgICAgICAgICAgICAgICAgIGlmIGZbaV1bMTldID09ICdiJzoKICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gMwogICAgICAgICAgICAgICAgICAgIGVsaWYgZltpXVsyMF0gPT0gJ2MnOgogICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSAyCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gMQoKICAgICAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICAgICAgcHJpbnQgaCArICdbJyArIG0gKyAnIScgKyBoICsgJ10nICsgcCArICcgUHJvZ3JhbSBFcnJvciEhIScKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgcHJpbnQgaCArICdbJyArIGsgKyAnXicgKyBoICsgJ10nICsgcCArICcgY3RybCtjIFxuJwogICAgICAgICAgICBwcmludCBoICsgJ1snICsgayArICcjJyArIGggKyAnXScgKyBwICsgJyBFeGl0ISEhXG4nCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGV4Y2VwdCBFT0ZFcnJvcjoKICAgICAgICAgICAgcHJpbnQgaCArICdbJyArIGsgKyAnXicgKyBoICsgJ10nICsgcCArICcgY3RybCtkIFxuJwogICAgICAgICAgICBwcmludCBoICsgJ1snICsgayArICcjJyArIGggKyAnXScgKyBwICsgJyBFeGl0ISEhXG4nCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHN0cmluZyA9IG9wZW4oZmlsZSwgJ3InKS5yZWFkKCkKICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgICAgICAgICBwcmludCAnXG4nICsgaCArICdbJyArIG0gKyAnIScgKyBoICsgJ10nICsgcCArICcgRmlsZSBOb3QgRm91bmQnCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoaCArICdbJyArIGsgKyAnXicgKyBoICsgJ10nICsgcCArICcgUHJlc3MgRW50ZXIgdG8gUmV0dXJuIHRvIHRoZSBtZW51ICcpCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICAgICAgICAgIG1lbnUoKQoKICAgICAgICBpZiBjZWsgPT0gMjoKICAgICAgICAgICAgcHkgPSAncHl0aG9uMicKICAgICAgICAgICAgZGVjID0gJ2RlY29tcGlsZSgyLjcsIHgsIHN0ZG91dCknCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoaCArICdbJyArIGsgKyAnIycgKyBoICsgJ10nKQogICAgICAgICAgICBqYWxhbihwICsgJyBjaGVjayB0aGUgc2NyaXB0IHZlcnNpb24nLCAwLjEpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMS41KQogICAgICAgICAgICBwcmludCAnXG4nICsgaCArICdbJyArIG0gKyAnKicgKyBoICsgJ10nICsgcCArICcgcHl0aG9uIHZlcnNpb24gMiB3YXMgZGV0ZWN0ZWQnCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgeCA9IHJlLnNlYXJjaCgnKCg/PCFbXFxcXF0pW1xcXCciXSkoKD86Lig/ISg/PCFbXFxcXF0pXFwxKSkqLj8pXFwxJywgc3RyaW5nKS5ncm91cCgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIGUKCiAgICAgICAgZWxpZiBjZWsgPT0gMzoKICAgICAgICAgICAgcHkgPSAncHl0aG9uMycKICAgICAgICAgICAgZGVjID0gJ2RlY29tcGlsZSgzLjgsIHgsIHN0ZG91dCknCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoaCArICdbJyArIGsgKyAnIycgKyBoICsgJ10nKQogICAgICAgICAgICBqYWxhbihwICsgJyBjaGVjayB0aGUgc2NyaXB0IHZlcnNpb24nLCAwLjEpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMS41KQogICAgICAgICAgICBwcmludCAnXG4nICsgaCArICdbJyArIG0gKyAnKicgKyBoICsgJ10nICsgcCArICcgcHl0aG9uIHZlcnNpb24gMyB3YXMgZGV0ZWN0ZWQnCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgeCA9ICdiJyArIHJlLnNlYXJjaCgnKCg/PCFbXFxcXF0pW1xcXCciXSkoKD86Lig/ISg/PCFbXFxcXF0pXFwxKSkqLj8pXFwxJywgc3RyaW5nKS5ncm91cCgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIGUKCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQgaCArICdbJyArIG0gKyAnIScgKyBoICsgJ10nICsgcCArICcgRmlsZSBOb3QgU3Vwb3J0JwogICAgICAgICAgICByYXdfaW5wdXQoaCArICdbJyArIGsgKyAnXicgKyBoICsgJ10nICsgcCArICcgUHJlc3MgRW50ZXIgdG8gUmV0dXJuIHRvIHRoZSBtZW51ICcpCiAgICAgICAgICAgIG1lbnUoKQoKICAgIGZpbGVvdXQgPSBvcGVuKCd1bi5weScsICd3JykKICAgIGZpbGVvdXQud3JpdGUoJ2Zyb20gc3lzIGltcG9ydCBzdGRvdXRcbmZyb20gdW5jb21weWxlNi5tYWluIGltcG9ydCBkZWNvbXBpbGVcbmltcG9ydCBtYXJzaGFsXG5cbicpCiAgICBmaWxlb3V0LndyaXRlKCd4ID0gbWFyc2hhbC5sb2FkcygnICsgeCArICcpXG4nKQogICAgZmlsZW91dC53cml0ZShkZWMpCiAgICBmaWxlb3V0LmNsb3NlKCkKICAgIGxvYWQoaCArICdbJyArIGsgKyAnIycgKyBoICsgJ10nICsgcCArICcgVW5tYXJzaGFsIHByb2Nlc3MgV2FpdCBhIG1pbnV0ZSAuLi4nKQogICAgc3AuY2FsbChweSArICcgdW4ucHkgPiB1bnB5Yy9kZWMucHknLCBzaGVsbD1UcnVlLCBzdGRlcnI9c3AuU1RET1VUKQogICAgb3Muc3lzdGVtKCdybSB1bi5weScpCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRpbWUuc2xlZXAoMSkKICAgIGRlbGF5ID0gb3BlbigndW5weWMvZGVjLnB5JywgJ3InKS5yZWFkbGluZXMoKQogICAgZm9yIHggaW4gcmFuZ2UobGVuKGRlbGF5KSk6CiAgICAgICAgamFsYW4oZGVsYXlbeF0sIDAuMDAwMSkKCiAgICBwcmludCAnXG5cbicgKyBoICsgJ1snICsgayArICcjJyArIGggKyAnXScgKyBwICsgJyBTdWNjZXNzZnVsbHkgRGVjb21waWxlZCcKICAgIHByaW50IGggKyAnWycgKyBrICsgJyMnICsgaCArICddJyArIHAgKyAnIGZpbGUgc2F2ZWQgOiB1bnB5Yy9kZWMucHknCiAgICBhc2sgPSByYXdfaW5wdXQoaCArICdbJyArIGsgKyAnPycgKyBoICsgJ10nICsgcCArICcgRGVjb21waWxlIEFnYWluPyB5L3QgJykKICAgIGlmIGFzayA9PSAneScgb3IgYXNrID09ICdZJzoKICAgICAgICBtZW51KCkKICAgIGVsaWYgYXNrID09ICd0JyBvciBhc2sgPT0gJ1QnOgogICAgICAgIHN5cy5leGl0KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgaCArICdbJyArIG0gKyAnIScgKyBoICsgJ10nICsgcCArICcgQ2hvb3NlIHRoZSByaWdodCBvbmUgJyArIG0gKyAnISEhJwogICAgICAgIHJhd19pbnB1dChoICsgJ1snICsgayArICdeJyArIGggKyAnXScgKyBwICsgJyBQcmVzcyBFbnRlciB0byBSZXR1cm4gdG8gdGhlIG1lbnUgJykKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKZGVmIHB5YygpOgogICAgcHJpbnQgbSArICdbJyArIHAgKyAnIycgKyBtICsgJ10nICsgcCArICcgRm9yIEV4YW1wbGUgOiAvcGF0aC9tYXJzaC5weScKICAgIGYgPSByYXdfaW5wdXQobSArICdbJyArIHAgKyAnPycgKyBtICsgJ10nICsgcCArICcgRW50ZXIgWW91ciBGaWxlIDogJykKICAgIGZyb20gcHlfY29tcGlsZSBpbXBvcnQgY29tcGlsZQogICAgY29tcGlsZShmKQogICAgbG9hZChtICsgJ1snICsgcCArICcjJyArIG0gKyAnXScgKyBwICsgJyBDb21waWxlIHByb2Nlc3MgV2FpdCBhIG1pbnV0ZSAuLi4nKQogICAgamFsYW4oJ1xuJyArIG0gKyAnWycgKyBwICsgJyMnICsgbSArICddJyArIHAgKyAnIGZpbGUgc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkJywgMC4wMSkKICAgIHByaW50ICdcbicgKyBtICsgJ1snICsgcCArICcjJyArIG0gKyAnXScgKyBwICsgKCcgRmlsZSBTYXZlZDoge31jJykuZm9ybWF0KGYpCiAgICBhc2sgPSByYXdfaW5wdXQobSArICdbJyArIHAgKyAnPycgKyBtICsgJ10nICsgcCArICcgQ29tcGlsZSBBZ2Fpbj8geS90ID4+ICcpCiAgICBpZiBhc2sgPT0gJ3knIG9yIGFzayA9PSAnWSc6CiAgICAgICAgbWVudSgpCiAgICBlbGlmIGFzayA9PSAndCcgb3IgYXNrID09ICdUJzoKICAgICAgICBzeXMuZXhpdCgpCiAgICBlbHNlOgogICAgICAgIHByaW50IG0gKyAnWycgKyBtICsgJyEnICsgbSArICddJyArIHAgKyAnIENob29zZSB0aGUgcmlnaHQgb25lICcgKyBtICsgJyEhIScKICAgICAgICByYXdfaW5wdXQobSArICdbJyArIHAgKyAnXicgKyBtICsgJ10nICsgcCArICcgUHJlc3MgRW50ZXIgdG8gUmV0dXJuIHRvIHRoZSBtZW51ICcpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgbWVudSgpCmRlZiB1bnB5YygpOgogICAgcHJpbnQgbSArICdbJyArIHAgKyAnIycgKyBtICsgJ10nICsgcCArICcgRm9yIEV4YW1wbGUgOiAvcGF0aC9maWxlLnB5YycKICAgIGYgPSByYXdfaW5wdXQobSArICdbJyArIHAgKyAnPycgKyBtICsgJ10nICsgcCArICcgRW50ZXIgWW91ciBGaWxlIDogJykKICAgIHRyeToKICAgICAgICBvcGVuKGYsICdyJykucmVhZCgpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwcmludCBtICsgJ1snICsgbSArICchJyArIG0gKyAnXScgKyBwICsgJyBGaWxlIE5vdCBGb3VuZCcKICAgICAgICByYXdfaW5wdXQobSArICdbJyArIHAgKyAnXicgKyBtICsgJ10nICsgcCArICcgUHJlc3MgRW50ZXIgdG8gUmV0dXJuIHRvIHRoZSBtZW51ICcpCiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIGxvYWQobSArICdbJyArIHAgKyAnIycgKyBtICsgJ10nICsgcCArICcgRGVjb21waWxlIHByb2Nlc3MgV2FpdCBhIG1pbnV0ZSAuLi4nKQogICAgICAgIHRyeToKICAgICAgICAgICAgb3Muc3lzdGVtKCd1bmNvbXB5bGU2ICcgKyBmICsgJz4gdW5weWMvamFkaS5weScpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludCBtICsgJ1snICsgbSArICchJyArIG0gKyAnXScgKyBwICsgJyBGYWlsZWQgdG8gZGVjb21waWxlIGJlY2F1c2UgOiAnICsgZQoKICAgIHByaW50ICdcblxuJyArIG0gKyAnWycgKyBwICsgJyMnICsgbSArICddJyArIHAgKyAnIFN1Y2Nlc3NmdWxseSBEZWNvbXBpbGVkJwogICAgcHJpbnQgbSArICdbJyArIHAgKyAnIycgKyBtICsgJ10nICsgcCArICcgZmlsZSBzYXZlZCA6IHVucHljL2phZGkucHknCiAgICBhc2sgPSByYXdfaW5wdXQobSArICdbJyArIHAgKyAnPycgKyBtICsgJ10nICsgcCArICcgRGVjb21waWxlIEFnYWluPyB5L3QgPj4gJykKICAgIGlmIGFzayA9PSAneScgb3IgYXNrID09ICdZJzoKICAgICAgICBtZW51KCkKICAgIGVsaWYgYXNrID09ICd0JyBvciBhc2sgPT0gJ1QnOgogICAgICAgIHN5cy5leGl0KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgbSArICdbJyArIG0gKyAnIScgKyBtICsgJ10nICsgcCArICcgQ2hvb3NlIHRoZSByaWdodCBvbmUgJyArIG0gKyAnISEhJwogICAgICAgIHJhd19pbnB1dChtICsgJ1snICsgcCArICdeJyArIG0gKyAnXScgKyBwICsgJyBQcmVzcyBFbnRlciB0byBSZXR1cm4gdG8gdGhlIG1lbnUgJykKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBtZW51KCkKZGVmIG16YigpOgogICAgcHJpbnQgJ0RlY29tcGlsZSBNYXJzaGFsLFpsaWIsQmFzZTY0JwogICAgYSA9IHJhd19pbnB1dCgnRmlsZSA6ICcgKQogICAgYiA9IG9wZW4oYSkucmVhZCgpLnJlcGxhY2UoJ2V4ZWMoJywgJ3ggPSAnKS5yZXBsYWNlKCcpKSkpJywnKSkpJykKICAgIG5vdGUgPSAnREVDT01QSUxFRCBCWSBNSEFOSyBCQVJCQVInCiAgICBjID0gb3BlbignbWkucHknLCAndycpCiAgICBpZiAnbWFyc2hhbCcgaW4gYjoKICAgICAgICBjLndyaXRlKCdmcm9tIHN5cyBpbXBvcnQgc3Rkb3V0XG5mcm9tIHVuY29tcHlsZTYubWFpbiBpbXBvcnQgZGVjb21waWxlXG4nICsgYiArICdcbmRlY29tcGlsZSgyLjcsIHgsIHN0ZG91dCknKQogICAgICAgIGMuY2xvc2UoKQogICAgZWxpZiAnbWFyc2hhbCcgbm90IGluIGI6CiAgICAgICAgYy53cml0ZShiICsgJ1xucHJpbnQgKHgpJykKICAgICAgICBjLmNsb3NlKCkKICAgIGQgPSBhLnJlcGxhY2UoJy5weScsICctZC5weScpCiAgICBvcy5zeXN0ZW0oJ3B5dGhvbjIgbWkucHkgPiAnICsgZCkKICAgIGUgPSBvcGVuKGQpLnJlYWQoKQogICAgZiA9IG9wZW4oZCwgJ3cnKQogICAgZi53cml0ZShlICsgJyBcblxuXG5cdCcgKyBub3RlICkKICAgIGYuY2xvc2UoKQogICAgb3Muc3lzdGVtKCdybSAtcmYgbWkucHknKQogICAgcHJpbnQoJ1x4MWJbMzE7MW1bXHgxYlswOzM3bStceDFiWzMxOzFtXVx4MWJbMDszN20gRmlsZSBzYXZlZCBhc1x4MWJbMzI7MW0gJyArIGQpCiAgICBwcmludCgnTWF1IERlYyBMYWdpIFkgb3IgTiA/JykKICAgIGN1ayA9IHJhd19pbnB1dCgnUGlsaWggOiAnKQogICAgaWYgY3VrID09ICd5JzoKICAgICAgbXpiKCkKICAgIGVsaWYgY3VrID09ICduJzoKICAgICAgZXhpdCgpCmRlZiB6bCgpOgogICAgcHJpbnQgJ0RlY29tcGlsZSBabGliJwogICAgYSA9IHJhd19pbnB1dCgnRmlsZSA6ICcpCiAgICBiID0gb3BlbihhKS5yZWFkKCkucmVwbGFjZSgnZXhlYycsICdwcmludCcpCiAgICBjID0gb3BlbignbWEucHknLCAndycpCiAgICBpZiAnemxpYicgaW4gYjoKICAgICAgICBjLndyaXRlKCcjIEJhY29kXG4nICsgYiArICcjIExvZSBLb250b2wnKQogICAgICAgIGMuY2xvc2UoKQogICAgZWxpZiAnemxpYicgbm90IGluIGI6CiAgICAgICAgYy53cml0ZShiICsgJ1xucHJpbnQgKHByaW50KScpCiAgICAgICAgYy5jbG9zZSgpCiAgICBkID0gYS5yZXBsYWNlKCcucHknLCAnLWQucHknKQogICAgb3Muc3lzdGVtKCdweXRob24yIG1hLnB5ID4gJysgZCkKICAgIGUgPSBvcGVuKGQpLnJlYWQoKS5yZXBsYWNlKCcjIHVuY29tcHlsZTYgdmVyc2lvbiAzLjYuMicsICcjIFZlcnNpIFVua29tcGVsIDAuMCA6dicpLnJlcGxhY2UoJyMgRW1iZWRkZWQgZmlsZSBuYW1lOiAnLCcjIEluaSBOaWg6diAnKS5yZXBsYWNlKCcjIERlY29tcGlsZWQgZnJvbTogUHl0aG9uIDIuNy4xNyAoZGVmYXVsdCwgT2N0IDIzIDIwMTksIDA4OjI4OjIyKScsICcjIERlY29tcGVsIEJ5IE1oYW5rIEJhckJhciBHYW5zJykucmVwbGFjZSgnIyBbR0NDIDQuMi4xIENvbXBhdGlibGUgQW5kcm9pZCAoNTIyMDA0MiBiYXNlZCBvbiByMzQ2Mzg5YykgQ2xhbmcgOC4wLjcgKGh0dHBzOi8vJywgJ0hhbG8gT20nKS5yZXBsYWNlKCcjIFB5dGhvbiBieXRlY29kZSAyLjcnLCAnIyBQaXRvbiBCaXRrb2RlIDIuNycpCiAgICBmID0gb3BlbihkLCAndycpCiAgICBmLndyaXRlKCcjIFN1a3Nlc3MgRGVjb21waWxlIOKckyBcbicrIGUpCiAgICBmLmNsb3NlKCkKICAgIG9zLnN5c3RlbSgncm0gLXJmIG1hLnB5JykKICAgIHByaW50KCdGaWxlIHNhY2VkIGFzICcrIGQpCiAgICBzeXMuZXhpdCgpCmRlZiBleGl0KCk6CiAgICAgICAgcnVuKCd0aGFua3MgZm9yIHVzaW5nIG15IHRvb2xzIGR1ZGUgOiknKQogICAgICAgIHN5cy5leGl0KCkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBpZiBvcy5wYXRoLmV4aXN0cygndW5weWMnKToKICAgICAgICBtZW51KCkKICAgIGVsc2U6CiAgICAgICAgb3Muc3lzdGVtKCdta2RpciB1bnB5YycpCiMJbG9nbygpCiAgICAgICAgbWVudSgp'))